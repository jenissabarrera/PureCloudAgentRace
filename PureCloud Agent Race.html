<!DOCTYPE html>
<html>
	<head>
		<title>PureCloud Agent Race</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
		<style>
			canvas {
					border:1px solid #d3d3d3;
					background-color: black;
				}
		</style>
	</head>
	
	<body onload="startGame()">
		<script>
			var Agent1;
			var Agent2;
			var Agent3;
			var Agent4;

			function startGame() {
				Agent1 = new component(10, 10, "red", 10, 40);
				Agent2 = new component(10, 10, "blue", 10, 80);
				Agent3 = new component(10, 10, "green", 10, 120);
				Agent4 = new component(10, 10, "yellow", 10, 160);
				myGameArea.start();
			}

			var myGameArea = {
				canvas : document.createElement("canvas"),
				start : function() {
					this.canvas.width = 325;
					this.canvas.height = 200;
					this.context = this.canvas.getContext("2d");
					document.body.insertBefore(this.canvas, document.body.childNodes[0]);
					this.interval = setInterval(updateGameArea, 20);
				},
				clear : function() {
					this.context.clearRect(0, 0, this.canvas.width, this.canvas.height);
				}
			}

			function component(width, height, color, x, y) {
				this.width = width;
				this.height = height;
				this.speedX = 0;
				this.speedY = 0;
				this.x = x;
				this.y = y;
				this.update = function() {
					ctx = myGameArea.context;
					ctx.fillStyle = color;
					ctx.fillRect(this.x, this.y, this.width, this.height);
				}
				this.newPos = function() {
					this.x += this.speedX;
					this.y += this.speedY;
				}
			}

			function updateGameArea() {
				myGameArea.clear();
				
				Agent1.newPos();
				Agent1.update();
				
				Agent2.newPos();
				Agent2.update();
				
				Agent3.newPos();
				Agent3.update();
				
				Agent4.newPos();
				Agent4.update();
			}

			function moveright() {
				Agent1.speedX = 0.5;
			}
			
			function agent1move() {
				Agent1.speedX = 0.5;
			}
			
			function agent2move() {
				Agent2.speedX = 0.5;
			}
			
			function agent3move() {
				Agent3.speedX = 0.5;
			}
			
			function agent4move() {
				Agent4.speedX = 0.5;
			}

			function clearmove() {
				Agent1.speedX = 0;
				Agent1.speedY = 0;
				
				Agent2.speedX = 0;
				Agent2.speedY = 0;
				
				Agent3.speedX = 0;
				Agent3.speedY = 0;
				
				Agent4.speedX = 0;
				Agent4.speedY = 0;
			}
		</script>
		
		<div>
			<button onmousedown="agent1move()" onmouseup="clearmove()" ontouchstart="agent1move()">AGENT 1</button>
			<button onmousedown="agent2move()" onmouseup="clearmove()" ontouchstart="agent2move()">AGENT 2</button>
			<button onmousedown="agent3move()" onmouseup="clearmove()" ontouchstart="agent3move()">AGENT 3</button>
			<button onmousedown="agent4move()" onmouseup="clearmove()" ontouchstart="agent4move()">AGENT 4</button>
		</div>
		
	</body>
</html>